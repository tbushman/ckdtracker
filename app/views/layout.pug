doctype html
html
	head
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		title= appTitle
		link(rel="icon" href="/img/favicon.ico" type="image/x-icon")
		link(rel="stylesheet" href="/stylesheets/style.css")
		link(rel='stylesheet', href='/stylesheets/bootstrap.css')
		link(href="https://fonts.googleapis.com/css?family=Roboto", rel="stylesheet")
		link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css")
		
		//style(type="text/css") #{css}
			
			
	body
		block page
		block header
			include includes/menu
		.container-fluid#wrapper
			block content
		block footer
			nav.navbar.navbar-default.navbar-fixed-bottom
				.container-fluid
					a.navbar-brand(href="https://github.com/tbushman/ckdtracker", target="_blank") repo

		script(type="text/javascript", src="/scripts/jquery-3.2.1.min.js")
		script(type="text/javascript", src="https://d3js.org/d3.v3.min.js" charset="utf-8")
		script(type="text/javascript", src="/scripts/moment-with-locales.min.js")
		script(type="text/javascript", src="/scripts/bootstrap.js")
		script(type="text/javascript", src="/scripts/bootstrap-datepicker.js")
		script(type="text/javascript", src="/scripts/main.js")
		script(type="text/javascript").
			
			
			document.addEventListener('DOMContentLoaded', function() {
				
			  var myWidth = 0, myHeight = 0;
				if( typeof( window.innerWidth ) == 'number' ) {
				    //Non-IE
					myWidth = window.innerWidth - 50;
					myHeight = window.innerHeight - 50;
				} else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
					//IE 6+ in 'standards compliant mode'
					myWidth = document.documentElement.clientWidth - 50;
					myHeight = document.documentElement.clientHeight - 50;
				} else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
					//IE 4 compatible
					myWidth = document.body.clientWidth - 50;
					myHeight = document.body.clientHeight - 50;
				} else {
					myWidth = 800;
					myHeight = 400;
				}
				if ('!{JSON.stringify(dots)}' !== '') {
					graphIt(!{JSON.stringify(data)}, !{JSON.stringify(dots)}, myWidth, myHeight);
				}
			});
			//$(document).ready()
			/*$(document).on('click', '.remove', function(){
				var thiskey = $(this).attr('id');
				$.ajax({
					url: '/delete/' + thiskey,
					type: 'DELETE',
					success: function() {
						$('#stock_tab_'+thiskey+'').remove();
						location.reload(true)
					}
				});
			});*/
			
			//var datepicker = $.fn.datepicker.noConflict(); // return $.fn.datepicker to previously assigned value
			//$.fn.bootstrapDP = datepicker;
			//$('#start_date > input').val(moment(minDate).format('MM/DD/YYYY'));  
			//$('#end_date > input').val(moment(maxDate).format('MM/DD/YYYY'));
			$('#start_date').datepicker({
				/*format: function(date) {
					return new Date(date)
				},*/
				keyboardNavigation: false,
					autoclose: true
			})
			$('#end_date').datepicker({
				useCurrent: false,
				endDate: "0d",
				todayBtn: "linked",
				/*format: function(date) {
					return new Date(date)
				},*/
				keyboardNavigation: false,
					autoclose: true
			})

			//credit: http://bl.ocks.org/atmccann/8966400, http://bl.ocks.org/mbostock/3884955, http://stackoverflow.com/a/20017009/3530394
			//http://codepen.io/pdillon/pen/bEgmA, http://codepen.io/jayarjo/pen/gzfyj?editors=0010
